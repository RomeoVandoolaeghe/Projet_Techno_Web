generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Author {
  id          Int      @id @default(autoincrement())
  name        String
  birthDate   DateTime
  nationality String // Ajoutez cette ligne pour définir le champ nationality
  biography   String?
  books       Book[]   
}

model Book {
  id            Int      @id @default(autoincrement())
  title         String
  publishedYear Int
  price         Float
  authorId      Int
  author        Author   @relation(fields: [authorId], references: [id], onDelete: Cascade)  // Relation avec suppression en cascade
  ratings       Rating[] // Relation avec Rating (avec cascade dans le schéma)
}

model Rating {
  id      Int     @id @default(autoincrement())
  stars   Int
  comment String?
  bookId  Int
  book    Book    @relation(fields: [bookId], references: [id], onDelete: Cascade)  // Supprimer les ratings lorsque le livre est supprimé
}


